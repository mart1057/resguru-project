<template>
    <div>
        <div class="text-[24px] font-bold mt-[24px]">พนักงาน</div>
        <div class="grid grid-cols-4 w-[100%] gap-4 mt-[14px]">

            
            <div class="bg-white rounded-[12px] h-[150px] flex flex-col p-[12px] cursor-pointer " v-for="data in employee">
                <div class="flex justify-between">
                    <div class="flex">
                        <div class="flex">
                            <img class="w-[125px] h-[125px] rounded-[12px] bg-[red]"
                                src="https://media.wired.com/photos/63b89b5b995aa119ba7ba7be/1:1/w_1800,h_1800,c_limit/Profile-Photos-Gear-1411545652.jpg" />
                            <div class="ml-[12px]">
                                <div class="flex flex-col justify-between h-[100%]">
                                    <div class="">
                                        <div
                                            class="h-[24px] rounded-[12px] font-bold text-[#003765] pl-[12px] pr-[12px] flex items-center bg-[#F0F8FF]">
                                            {{ data.attributes.position }}
                                        </div>
                                        <div class="mt-[14px] text-[18px] font-bold">{{ data.attributes.name }} {{ data.attributes.lastname }}</div>
                                    </div>
                                    <div class="ml-[-30px]">
                                        <svg width="35" height="35" viewBox="0 0 35 35" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <rect width="35" height="35" rx="12" fill="#003765" />
                                            <mask id="mask0_633_13834" style="mask-type:alpha" maskUnits="userSpaceOnUse"
                                                x="4" y="4" width="27" height="27">
                                                <rect x="4" y="4" width="27" height="27" fill="#D9D9D9" />
                                            </mask>
                                            <g mask="url(#mask0_633_13834)">
                                                <path
                                                    d="M15.25 17.1542C14.1672 17.1542 13.2402 16.7687 12.4691 15.9976C11.698 15.2265 11.3125 14.2996 11.3125 13.2168C11.3125 12.134 11.698 11.207 12.4691 10.4359C13.2402 9.66484 14.1672 9.2793 15.25 9.2793C16.3328 9.2793 17.2597 9.66484 18.0308 10.4359C18.8019 11.207 19.1874 12.134 19.1874 13.2168C19.1874 14.2996 18.8019 15.2265 18.0308 15.9976C17.2597 16.7687 16.3328 17.1542 15.25 17.1542ZM7.83338 25.7215C7.54079 25.7215 7.2975 25.6241 7.10351 25.4292C6.9095 25.2343 6.8125 24.9928 6.8125 24.7047V23.2206C6.8125 22.6523 6.95746 22.1378 7.24737 21.677C7.53726 21.2162 7.94182 20.8596 8.46105 20.6071C9.39568 20.1413 10.4053 19.7522 11.4899 19.44C12.5745 19.1277 13.8279 18.9716 15.25 18.9716H15.5788C15.6697 18.9716 15.7678 18.9831 15.8731 19.0062C15.7591 19.2716 15.665 19.542 15.5907 19.8175C15.5164 20.093 15.4548 20.3735 15.4058 20.659H15.25C13.9548 20.659 12.8081 20.808 11.8101 21.1058C10.812 21.4036 9.95383 21.7393 9.23555 22.1129C8.98027 22.2499 8.79385 22.41 8.67629 22.5932C8.55874 22.7764 8.49997 22.9855 8.49997 23.2206V24.034H15.5875C15.6711 24.3196 15.7796 24.6095 15.9131 24.9037C16.0465 25.1979 16.1932 25.4705 16.3533 25.7215H7.83338ZM15.25 15.4668C15.8687 15.4668 16.3984 15.2465 16.839 14.8058C17.2797 14.3652 17.5 13.8355 17.5 13.2168C17.5 12.598 17.2797 12.0683 16.839 11.6277C16.3984 11.1871 15.8687 10.9668 15.25 10.9668C14.6312 10.9668 14.1015 11.1871 13.6609 11.6277C13.2203 12.0683 13 12.598 13 13.2168C13 13.8355 13.2203 14.3652 13.6609 14.8058C14.1015 15.2465 14.6312 15.4668 15.25 15.4668ZM22.9096 23.7311C23.4988 23.7311 24.003 23.5213 24.422 23.1017C24.8409 22.6821 25.0504 22.1776 25.0504 21.5883C25.0504 20.9991 24.8406 20.495 24.421 20.076C24.0014 19.657 23.4969 19.4475 22.9076 19.4475C22.3184 19.4475 21.8143 19.6573 21.3953 20.0769C20.9763 20.4966 20.7668 21.001 20.7668 21.5903C20.7668 22.1795 20.9766 22.6837 21.3962 23.1026C21.8159 23.5216 22.3203 23.7311 22.9096 23.7311ZM21.868 25.0616C21.5997 24.9823 21.3473 24.8785 21.1108 24.7501C20.8742 24.6217 20.6492 24.4609 20.4358 24.2676L19.3562 24.6441C19.2469 24.6816 19.1454 24.6787 19.0517 24.6354C18.9581 24.5922 18.88 24.5215 18.8175 24.4234L18.4022 23.7311C18.3416 23.6403 18.3218 23.54 18.3427 23.4304C18.3636 23.3208 18.4195 23.2299 18.5103 23.1578L19.3735 22.4504C19.2928 22.159 19.2524 21.872 19.2524 21.5893C19.2524 21.3066 19.2928 21.0196 19.3735 20.7283L18.5212 19.9992C18.4303 19.9271 18.3744 19.8362 18.3535 19.7266C18.3326 19.617 18.3524 19.5131 18.413 19.415L18.8283 18.7228C18.8908 18.6343 18.9689 18.5696 19.0626 18.5288C19.1563 18.4879 19.2578 18.4862 19.367 18.5237L20.4358 18.9002C20.642 18.7069 20.8652 18.5479 21.1054 18.4231C21.3455 18.2984 21.5997 18.1963 21.868 18.117L22.0562 16.9985C22.0876 16.8893 22.1426 16.7997 22.2212 16.7295C22.2998 16.6593 22.3941 16.6242 22.5041 16.6242H23.3348C23.4482 16.6242 23.5454 16.6592 23.6265 16.7292C23.7075 16.7991 23.7595 16.8889 23.7826 16.9985L23.96 18.117C24.2283 18.1963 24.4825 18.3013 24.7226 18.4318C24.9628 18.5623 25.186 18.73 25.3922 18.9348L26.4437 18.5237C26.5533 18.4747 26.6594 18.4747 26.762 18.5237C26.8645 18.5728 26.9474 18.6463 27.0105 18.7444L27.4259 19.4713C27.4864 19.5622 27.5073 19.6606 27.4886 19.7666C27.4698 19.8726 27.415 19.9617 27.3242 20.0338L26.4545 20.7629C26.5352 21.0334 26.5756 21.3152 26.5756 21.6083C26.5756 21.9014 26.5352 22.1821 26.4545 22.4504L27.3177 23.1578C27.4158 23.2299 27.4717 23.3226 27.4854 23.4358C27.4991 23.5491 27.4756 23.6547 27.415 23.7528L26.9997 24.4451C26.9385 24.5335 26.862 24.5982 26.7702 24.639C26.6784 24.6799 26.5789 24.6816 26.4718 24.6441L25.3922 24.2676C25.1788 24.4609 24.9538 24.6217 24.7172 24.7501C24.4807 24.8785 24.2283 24.9823 23.96 25.0616L23.7826 26.1801C23.7595 26.2898 23.7075 26.3795 23.6265 26.4495C23.5454 26.5194 23.4482 26.5544 23.3348 26.5544H22.5041C22.3941 26.5544 22.2998 26.5193 22.2212 26.4492C22.1426 26.379 22.0876 26.2893 22.0562 26.1801L21.868 25.0616Z"
                                                    fill="white" />
                                            </g>
                                        </svg>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div>
                        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="6" cy="2.5" r="1" transform="rotate(90 6 2.5)" fill="#8396A6" />
                            <circle cx="6" cy="6" r="1" transform="rotate(90 6 6)" fill="#8396A6" />
                            <circle cx="6" cy="9.5" r="1" transform="rotate(90 6 9.5)" fill="#8396A6" />
                        </svg>
                    </div>
                </div>
            </div>
           
        </div>
    </div>
</template>
<script>
export default {
    data() {
        return {
            create: false,
            employee: [],
        }
    },
    created() {
        const loading = this.$vs.loading({})
        setTimeout(() => {
            loading.close()
        }, 1000)
    },
    mounted() {
        this.getEmployer();
    },
    methods: {
        getEmployer() {
            const loading = this.$vs.loading()
            // fetch('http://203.170.190.170:1337/api' + '/announcements?filters[building][id][$eq]=' + this.$store.state.building +'&poopulate=*')
            fetch(`http://203.170.190.170:1337/api/building-employees?populate=deep,3&sort[0]=id:desc`)
                .then(response => response.json())
                .then((resp) => {
                    console.log("Return from getEmployer()",resp.data);
                    this.employee = resp.data
                }).finally(() => {
                    loading.close()
                })
        }
    }
}

</script>